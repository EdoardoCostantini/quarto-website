{
  "hash": "c80f23eb036771108f3c18da194a151a",
  "result": {
    "markdown": "---\ntitle: Understanding quantiles\nauthor: Edoardo Costantini\ndate: '2022-09-06'\nslug: quantiles\ncategories: [\"Statistics\", \"Distributions\"]\n---\n\n\n## Quantiles, percentiles, and quartiles\n\nDescriptive statistics are a fundamental tools for a data analysis.\nTheir purpose is to describe and summarize data.\nQuantitative variables such as weight, age, and income can be described by distributions (e.g., normal distribution) with measures of **center** (the typical value of a variable) and **variability** (spread around the center).\nThe mean is a measure of center.\nThe standard deviation is a measure of variability.\n\nThere are special descriptive statistics that help us describe simultaneously center and spread of a variable's distribution.\nThese measures are often known as measures of **positions**.\nIn general, they tell us the point of the distribution of a variable at which a given percentage of the data falls below or above that point.\nThe minimum and maximum values of a variable are measures of positions defining the point at which no data, or all data, fall below it, respectively.\nThe median is a measure of position that defines the point at which half of the data falls below it (and above it).\nThe median is a special case of the measure of position called **percentile**.\nThe p-th percentile is the point such that p\\% of the observations fall below or at that point and (100 - p)% fall above it.\nThe 50-th percentile is the median.\n\n**Quartiles** are commonly used percentiles.\nThe first quartile is the 25-th percentile, the value of the variable leaving to its left 25% of the distribution.\nThe third quartile is the 75-th percentile, the value of the variable leaving to its left 75% of the distribution.\nYou can think of quartiles as diving the probability distribution in 4 intervals with equal probabilities (e.g., area under the probability density function).\nSimilarly, you can think of percentiles as diving the probability distribution in 100 intervals with equal probabilities.\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](index_files/figure-html/quartile-pic-1.png){width=960}\n:::\n:::\n\n\n\nWe use the word **quantile** to describe the general measure of position that divides the probability distribution in intervals with equal probabilities.\nPercentiles divide the probability distribution of a variable in 100 intervals.\nDeciles divide it in 10 intervals, and quartiles in four.\nAs such, percentiles, deciles, quartiles, and the median are all special cases of quantiles.\n\n## TL;DR, just give me the code!\n\n::: {.cell}\n\n```{.r .cell-code}\n# Set a seed\n\nset.seed(20220906)\n\n# Sample from a normal distribution\n\nage <- rnorm(1e5, mean = 27, sd = 2)\n\n# Define the 1st and 2nd quartile\n\nquartiles <- quantile(age, probs = c(.25, .75))\n\n# Plot density distribution\n\nplot(density(age),\n     main = \"Quartiles for the probability distribution of age\",\n     xlab = NA)\n\n# Costum x ticks\naxis(side = 1, at = c(27, round(quartiles, 1)), labels = TRUE)\n\n# Add points for quantiles\npoints(c(quartiles, median(age)),\n        y = rep(0, length(quartiles)+1))\npoints(c(quartiles, median(age)),\n       y = dnorm(c(quartiles, median(age)), mean = mean(age), sd = sd(age)))\n\n# Add segments to devide plot\nsegments(x0 = quartiles[1], y0 = 0,\n         x1 = quartiles[1], y1 = dnorm(quartiles[1],\n                                       mean = mean(age), sd = sd(age)))\nsegments(x0 = median(age), y0 = 0,\n         x1 = median(age), y1 = max(dnorm(age,\n                                       mean = mean(age), sd = sd(age))))\nsegments(x0 = quartiles[2], y0 = 0,\n         x1 = quartiles[2], y1 = dnorm(quartiles[2],\n                                       mean = mean(age), sd = sd(age)))\n\n# Add quartile labels\ntext(x = quartiles[1],\n     y = -.005,\n     \"1st quartile\")\ntext(x = quartiles[2],\n     y = -.005,\n     \"3rd quartile\")\n\n# Add percentage under the curve labels\ntext(x = c(24, 30, 26.3, 27.7),\n     y = c(.03, .03, .06, .06),\n     \"25 %\")\n```\n:::",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}